import { cn } from "@/lib/utils";
import { usePrevious, useWindowScroll } from "@uidotdev/usehooks";
import { motion, motionValue, useScroll } from "framer-motion";
import * as React from "react";

function Logo(props: React.SVGProps<SVGSVGElement>) {
  const { className = "fill-caramel-100", ...rest } = props;
  return (
    <svg
      width="124"
      height="60"
      viewBox="0 0 124 60"
      fill="none"
      {...rest}
      className={cn("overflow-hidden", className)}
    >
      <path
        className="logo-icon"
        d="M87.0634 29.1741L61.2302 20.4196C61.0196 19.4014 60.91 18.3473 60.91 17.2685C60.91 8.60429 68.0139 1.55717 76.749 1.55717C85.4827 1.55717 92.588 8.60429 92.588 17.2685C92.588 22.0254 90.4425 26.2919 87.0634 29.1741ZM76.749 32.9764C69.7647 32.9764 63.8274 28.4693 61.726 22.2364L85.5801 30.3016C83.0554 31.99 80.0164 32.9764 76.749 32.9764ZM38.7639 12.8052L42.2227 4.53463L46.873 15.554L38.7639 12.8052ZM96.0169 32.2087L88.76 29.7492C92.0822 26.6031 94.1587 22.1729 94.1587 17.2685C94.1587 7.74633 86.3492 0 76.749 0C67.1489 0 59.3386 7.74633 59.3386 17.2685C59.3386 18.1434 59.4062 19.0035 59.5335 19.8445L48.8556 16.2257L42.2163 0.482602L37.2757 12.3014L28.1814 9.21883V10.8938L36.6661 13.7626L27.9829 34.535H29.676L38.1529 14.265L47.6904 17.4901L54.8839 34.535H56.577L49.6716 18.1597L59.8992 21.6183C61.8484 29.0394 68.6641 34.535 76.749 34.535C80.757 34.535 84.4491 33.181 87.3956 30.9162L96.0169 33.8308V32.2087Z"
        // fill="#231F20"
      />
      <path
        className="logo-name"
        d="M46.7017 51.9961H39.617V46.9747H38.1131V59.6564H39.617V53.3332H46.7017V59.6564H48.2048V46.9747H46.7017V51.9961ZM54.1911 54.5672L56.2662 49.0921L58.4132 54.5672H54.1911ZM56.1311 46.6141L50.514 59.6564L52.1687 59.6543L53.8084 55.7151H58.9041L60.541 59.655L62.3344 59.6564L56.5451 46.6141H56.1311ZM84.2621 56.8596L75.0148 46.6678L74.6548 46.6649V59.6564H76.089V49.7503L85.4195 59.9309H85.7311V46.9747H84.2621V56.8596ZM101.542 48.2934H103.98C104.117 48.2934 104.27 48.3138 104.437 48.3533C104.603 48.3943 104.763 48.4422 104.912 48.4994C105.315 48.6715 105.621 48.9453 105.828 49.3228C106.035 49.6995 106.139 50.1158 106.139 50.573C106.139 51.1212 105.985 51.5876 105.682 51.97C105.376 52.3524 104.946 52.5444 104.394 52.5444H101.542V48.2934ZM105.312 53.6408C105.818 53.4919 106.284 53.2464 106.71 52.9042C107.09 52.5613 107.364 52.1845 107.53 51.7725C107.697 51.3618 107.78 50.9166 107.78 50.4361C107.78 49.5337 107.489 48.7393 106.908 48.0542C106.326 47.3677 105.58 47.0262 104.67 47.0262L99.9346 46.9747V59.6564H101.542V53.1787L106.346 59.6564L108.424 59.6536L103.62 53.638L105.312 53.6408ZM89.9247 59.6564H96.8707V58.2855H91.462V53.4009H96.8707V52.0991H91.462V48.3449H96.8707V46.9747H89.9247V59.6564ZM120.89 56.9633C119.876 58.016 118.638 58.5423 117.174 58.5423C115.677 58.5423 114.401 58.0421 113.347 57.0402C112.293 56.039 111.766 54.812 111.766 53.3586C111.766 51.8825 112.273 50.6182 113.287 49.5648C114.3 48.5128 115.539 47.985 117.002 47.985C118.488 47.985 119.761 48.4888 120.821 49.4956C121.88 50.5032 122.411 51.7337 122.411 53.1871C122.411 54.6512 121.903 55.9113 120.89 56.9633ZM121.935 48.5283C120.559 47.252 118.914 46.6141 117.002 46.6141C115.113 46.6141 113.503 47.2752 112.173 48.5968C110.842 49.9176 110.176 51.5156 110.176 53.3924C110.176 55.2452 110.865 56.8102 112.241 58.0865C113.617 59.3615 115.262 60 117.174 60C119.064 60 120.674 59.3382 122.005 58.0174C123.336 56.6959 124 55.0978 124 53.221C124 51.3682 123.311 49.804 121.935 48.5283ZM3.67643 54.5672L5.75154 49.0921L7.8985 54.5672H3.67643ZM5.61638 46.6141L0 59.6564L1.65397 59.6543L3.29371 55.7151H8.39007L10.0263 59.655L11.8197 59.6564L6.03112 46.6141H5.61638ZM17.8095 46.9747H16.2203V59.6564H22.5274V58.2855H17.8095V46.9747ZM31.466 51.819C31.1786 52.2353 30.7866 52.5168 30.2915 52.6629H27.717V48.3286H29.7906C30.0894 48.3731 30.3726 48.4422 30.6372 48.5333C31.0633 48.704 31.3799 48.9601 31.5876 49.3016C31.7946 49.6424 31.8985 50.0248 31.8985 50.4453C31.8985 50.9456 31.7548 51.4035 31.466 51.819ZM30.2915 47.0262L26.1448 46.9747V59.6564H27.717V53.9322H30.3875C31.318 53.8412 32.0699 53.4799 32.6447 52.847C33.2181 52.2142 33.5055 51.4536 33.5055 50.5646V50.1201C33.5055 49.2656 33.1982 48.5615 32.5814 48.009C31.9654 47.4559 31.2013 47.1292 30.2915 47.0262Z"
        // fill="#231F20"
      />
    </svg>
  );
}

const nameVariants = {
  initial: {
    y: 0,
  },
  up: {
    y: 20,
  },
  down: {
    y: 0,
  },
};

const markVariants = {
  initial: {
    scale: 1,
    y: 10,
  },
  up: {
    scale: 0.8,
    y: 10,
  },
  down: {
    scale: 1,
    y: 0,
  },
};

export function LogoAnimated(props: React.SVGProps<SVGSVGElement>) {
  const [{ y: scrollYProgress }] = useWindowScroll();
  const lastYPos = usePrevious(scrollYProgress ?? 0);
  const [isScrollingUp, setIsScrollingUp] = React.useState(false);

  React.useLayoutEffect(() => {
    setIsScrollingUp((scrollYProgress ?? 0) > lastYPos);
  }, [lastYPos, scrollYProgress]);

  const { className = "fill-caramel-100", ...rest } = props;
  return (
    <motion.svg
      width="124"
      height="60"
      viewBox="0 0 124 60"
      className={cn("overflow-hidden", className)}
    >
      <motion.path
        className="logo-icon"
        d="M87.0634 29.1741L61.2302 20.4196C61.0196 19.4014 60.91 18.3473 60.91 17.2685C60.91 8.60429 68.0139 1.55717 76.749 1.55717C85.4827 1.55717 92.588 8.60429 92.588 17.2685C92.588 22.0254 90.4425 26.2919 87.0634 29.1741ZM76.749 32.9764C69.7647 32.9764 63.8274 28.4693 61.726 22.2364L85.5801 30.3016C83.0554 31.99 80.0164 32.9764 76.749 32.9764ZM38.7639 12.8052L42.2227 4.53463L46.873 15.554L38.7639 12.8052ZM96.0169 32.2087L88.76 29.7492C92.0822 26.6031 94.1587 22.1729 94.1587 17.2685C94.1587 7.74633 86.3492 0 76.749 0C67.1489 0 59.3386 7.74633 59.3386 17.2685C59.3386 18.1434 59.4062 19.0035 59.5335 19.8445L48.8556 16.2257L42.2163 0.482602L37.2757 12.3014L28.1814 9.21883V10.8938L36.6661 13.7626L27.9829 34.535H29.676L38.1529 14.265L47.6904 17.4901L54.8839 34.535H56.577L49.6716 18.1597L59.8992 21.6183C61.8484 29.0394 68.6641 34.535 76.749 34.535C80.757 34.535 84.4491 33.181 87.3956 30.9162L96.0169 33.8308V32.2087Z"
        // fill="#231F20"
        variants={markVariants}
        animate={isScrollingUp ? "up" : "down"}
      />
      <motion.path
        className="logo-name"
        d="M46.7017 51.9961H39.617V46.9747H38.1131V59.6564H39.617V53.3332H46.7017V59.6564H48.2048V46.9747H46.7017V51.9961ZM54.1911 54.5672L56.2662 49.0921L58.4132 54.5672H54.1911ZM56.1311 46.6141L50.514 59.6564L52.1687 59.6543L53.8084 55.7151H58.9041L60.541 59.655L62.3344 59.6564L56.5451 46.6141H56.1311ZM84.2621 56.8596L75.0148 46.6678L74.6548 46.6649V59.6564H76.089V49.7503L85.4195 59.9309H85.7311V46.9747H84.2621V56.8596ZM101.542 48.2934H103.98C104.117 48.2934 104.27 48.3138 104.437 48.3533C104.603 48.3943 104.763 48.4422 104.912 48.4994C105.315 48.6715 105.621 48.9453 105.828 49.3228C106.035 49.6995 106.139 50.1158 106.139 50.573C106.139 51.1212 105.985 51.5876 105.682 51.97C105.376 52.3524 104.946 52.5444 104.394 52.5444H101.542V48.2934ZM105.312 53.6408C105.818 53.4919 106.284 53.2464 106.71 52.9042C107.09 52.5613 107.364 52.1845 107.53 51.7725C107.697 51.3618 107.78 50.9166 107.78 50.4361C107.78 49.5337 107.489 48.7393 106.908 48.0542C106.326 47.3677 105.58 47.0262 104.67 47.0262L99.9346 46.9747V59.6564H101.542V53.1787L106.346 59.6564L108.424 59.6536L103.62 53.638L105.312 53.6408ZM89.9247 59.6564H96.8707V58.2855H91.462V53.4009H96.8707V52.0991H91.462V48.3449H96.8707V46.9747H89.9247V59.6564ZM120.89 56.9633C119.876 58.016 118.638 58.5423 117.174 58.5423C115.677 58.5423 114.401 58.0421 113.347 57.0402C112.293 56.039 111.766 54.812 111.766 53.3586C111.766 51.8825 112.273 50.6182 113.287 49.5648C114.3 48.5128 115.539 47.985 117.002 47.985C118.488 47.985 119.761 48.4888 120.821 49.4956C121.88 50.5032 122.411 51.7337 122.411 53.1871C122.411 54.6512 121.903 55.9113 120.89 56.9633ZM121.935 48.5283C120.559 47.252 118.914 46.6141 117.002 46.6141C115.113 46.6141 113.503 47.2752 112.173 48.5968C110.842 49.9176 110.176 51.5156 110.176 53.3924C110.176 55.2452 110.865 56.8102 112.241 58.0865C113.617 59.3615 115.262 60 117.174 60C119.064 60 120.674 59.3382 122.005 58.0174C123.336 56.6959 124 55.0978 124 53.221C124 51.3682 123.311 49.804 121.935 48.5283ZM3.67643 54.5672L5.75154 49.0921L7.8985 54.5672H3.67643ZM5.61638 46.6141L0 59.6564L1.65397 59.6543L3.29371 55.7151H8.39007L10.0263 59.655L11.8197 59.6564L6.03112 46.6141H5.61638ZM17.8095 46.9747H16.2203V59.6564H22.5274V58.2855H17.8095V46.9747ZM31.466 51.819C31.1786 52.2353 30.7866 52.5168 30.2915 52.6629H27.717V48.3286H29.7906C30.0894 48.3731 30.3726 48.4422 30.6372 48.5333C31.0633 48.704 31.3799 48.9601 31.5876 49.3016C31.7946 49.6424 31.8985 50.0248 31.8985 50.4453C31.8985 50.9456 31.7548 51.4035 31.466 51.819ZM30.2915 47.0262L26.1448 46.9747V59.6564H27.717V53.9322H30.3875C31.318 53.8412 32.0699 53.4799 32.6447 52.847C33.2181 52.2142 33.5055 51.4536 33.5055 50.5646V50.1201C33.5055 49.2656 33.1982 48.5615 32.5814 48.009C31.9654 47.4559 31.2013 47.1292 30.2915 47.0262Z"
        // fill="#231F20"
        variants={nameVariants}
        animate={isScrollingUp ? "up" : "down"}
      />
    </motion.svg>
  );
}

export default Logo;
